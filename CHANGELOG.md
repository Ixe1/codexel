# Changelog

This changelog lists Codexel-specific changes only (commits that are not in `upstream/main`).
For upstream release notes, see the OpenAI Codex releases page:
https://github.com/openai/codex/releases

Highlights are curated. Details are generated by `scripts/gen-changelog.*` and should not be
edited between the markers.

## [Unreleased]

### Highlights

- Resume: add turn-resume with persisted interrupted history, plus a guided prompt and usable options on small terminals.
- Agents: add `/subagent-model`, prefer mini subagents for repo exploration, and cancel spawned subagents on abort.
- Plan Mode: add `plan_explore` subagent exploration and allow `/plan` web search (when enabled).
- Plan Mode: switch `/plan` exploration to mini subagents; add `mini_subagent_*` config and deprecate `explore_model*`.
- TUI: remove `/explore-model`; add `/experimental` to TUI2.
- Core: strengthen `ask_user_question` guidance and inject SpawnSubagent guidance for execution.
- Experimental: add LSP diagnostics + navigation (autodetecting common servers like `rust-analyzer`, `gopls`, `pyright-langserver`, and `typescript-language-server`).
- Packaging/CI: add Homebrew cask workflow + macOS artifacts, and harden workflow conditionals/YAML formatting.

### Details

<!-- BEGIN GENERATED DETAILS: range=44f8df17aa11051fcf3919a9c16fe3b9c3296d66..HEAD -->

#### Features

- feat: add experimental LSP diagnostics and navigation

#### Fixes

- Fix YAML heredoc indentation
- Fix rust-ci job if expressions
- Fix workflows: avoid secrets in if
- Fix app-server OverrideTurnContext init
- Fix subagent badges
- fix(lsp): respect `max_tool_diagnostics` and avoid leaked servers

#### Documentation

- docs: keep README ASCII-only
- docs: prettier
- docs: note Codexel release tag format

#### TUI

- tui: update status snapshots for v0.1.4
- tui: prompt to continue on interrupted resume
- tui: keep resume options visible on small terminals
- tui: show LSP toggle in /experimental
- tui: surface lsp tool calls in history
- TUI: render `apply_patch` diagnostics as styled card
- TUI: avoid false interrupted prompt on resume
- tui: drop /explore-model; add /experimental to tui2
- tui: default AskUserQuestion review selection to Submit
- tui: parse LSP diagnostics entries with colons
- tui: make /diagnostics open changed files
- tui: remove /diagnostics

#### Core

- core: strengthen `ask_user_question` guidance
- core: add web UI quality bar instructions
- core: inject SpawnSubagent guidance for exec
- core: enable LSP prompt diagnostics by default

#### Plan Mode

- plan: refine plan mode + variants prompts
- plan: allow web search in /plan
- Plan mode: add `plan_explore` subagent exploration
- Plan exploration: mini subagents + `mini_subagent_*` config

#### Branding & Packaging

- codex-cli: bump codexel npm version to 0.1.3
- Merge upstream/main into Codexel

#### Chores

- chore: update changelog
- chore: make changelog generator prettier-stable
- chore(app-server): drop unused `os_info` dev-dependency
- chore: regenerate changelog

#### Other

- changelog: update 0.1.3 for upstream merge
- Add Homebrew cask workflow and macOS artifacts
- Use macos-15-intel for `x86_64` builds
- release: bump versions to 0.1.4
- changelog: update unreleased
- checkpoint: pre explore-model + cancelled subagents
- Add /explore-model and cancel subagents on abort
- Persist interrupted turn history on resume
- changelog: update unreleased for v0.1.4
- Add /subagent-model override
- Add mini/explorer subagents and UI badges
- codex-lsp: autodetect .cmd language servers on Windows
- codex-core: prefer LSP tools over rg via developer instructions
- lsp: normalize paths and clarify tool docs
- lsp: prewarm workspace and configured servers
- lsp: prewarm autodetected servers
- LSP: enable publishDiagnostics and show `apply_patch` diagnostics in TUI
- Prefer mini subagents for repo exploration
- Tighten mini subagent exploration guidance
- changelog: update unreleased
- changelog: update unreleased
- lsp: autodetect PHP and Perl servers
- changelog: update unreleased
- Ignore tmp/lsp-smoke LSP test files
- Add LSP status command and improve /lsp UI
- codex-lsp: add C# language support
- lsp: handle server requests and pull diagnostics
- lsp: seed diagnostics by opening a source file
- lsp: wait for diagnostics during warmup; show pull-diags capability
<!-- END GENERATED DETAILS -->

## [0.1.3] - 2025-12-20

Upstream baseline: openai/codex@a6974087e5c04fc711af68f70fe93f7f5d2b0981
Release commit: 44f8df17aa11051fcf3919a9c16fe3b9c3296d66

### Highlights

- Merge latest `upstream/main` into `v0.1.3`.
- Fix subagent config constraint handling after upstream merge.
- Add a read-only spawn_subagent tool for parallel exploration and research.
- Show spawn_subagent tool calls in chat history, including live activity and token usage, and stop them on Esc.
- Fix: keep `spawn_subagent` history entries updating even when other messages are inserted.
- Plan Mode: persist approved plans under `.codexel/plan.md` (and hide `.codexel/` from built-in file tools).
- Skip macOS rust-ci jobs on pull requests to avoid flaky PR runs.
- Skip upstream npm package staging in CI for forks.
- Fix sdk workflow to build the codexel binary.
- Fix Codexel update checks for npm/bun installs and keep the default state directory isolated to `~/.codexel`.

### Details

<!-- BEGIN GENERATED DETAILS: range=79d019672838ccc532247588d31d2eda81fb42d8..44f8df17aa11051fcf3919a9c16fe3b9c3296d66 -->

#### Fixes

- Fix sdk workflow codexel build
- Fix update checks and codex home isolation

#### Documentation

- docs: clarify Codexel fork positioning
- docs: move What's different up and mention `ask_user_question`

#### TUI

- tui: show subagent tool calls in history
- tui: keep subagent history updating
- tui: keep subagent cell live during inserts

#### Core

- core: fix subagent config constraints

#### Plan Mode

- subagent: stream activity and match plan-variants UI
- Persist approved plan and hide .codexel

#### Branding & Packaging

- chore: ignore .codexel
- tests: keep codexel CLI suites green

#### Chores

- chore: update login flow and tui snapshots
- chore: regenerate changelog

#### Other

- Update changelog for 0.1.2 release
- Adjust changelog release metadata
- Skip macOS rust-ci jobs on PRs
- Skip upstream npm staging in CI for forks
- Format markdown and workflow files
- Add `spawn_subagent` tool
- Show `spawn_subagent` tool calls in history
- subagent: stream token counts
- release: bump workspace version to 0.1.3
- changelog: cut 0.1.3
- changelog: update unreleased
- changelog: update
- Require `spawn_subagent` description and refresh snapshots
- changelog: fix 0.1.3 release ranges
- Merge upstream/main into v0.1.3
- changelog: filter upstream commits in generator
- changelog: keep generators in sync
<!-- END GENERATED DETAILS -->

## [0.1.2] - 2025-12-19

Upstream baseline: openai/codex@be274cbe6273cb17d756a6cda729d537f15ae49a
Release commit: 79d019672838ccc532247588d31d2eda81fb42d8

### Highlights

- Prevent resume replay from auto-executing plans or showing a working status.
- Deduplicate plan updates in history and delay rate-limit polling until user input.

### Details

<!-- BEGIN GENERATED DETAILS: range=d02343f99e3260308b2355f26e382ae04b14d7e7..79d019672838ccc532247588d31d2eda81fb42d8 -->

#### Fixes

- Fix Codexel update actions

#### Plan Mode

- Deduplicate plan updates in history

#### Branding & Packaging

- Add GitHub Release publishing for Codexel

#### Other

- Update changelog for 0.1.1 (mac build)
- Update status snapshots
- Delay rate limit polling until user input
- Avoid working status on resume replay
- Prevent resume from auto-executing plans
- Release 0.1.2
<!-- END GENERATED DETAILS -->

## [0.1.1] - 2025-12-19

Upstream baseline: openai/codex@be274cbe6273cb17d756a6cda729d537f15ae49a
Release commit: d02343f99e3260308b2355f26e382ae04b14d7e7

### Highlights

- Guard npm publishes when vendor binaries are missing.
- Add Codexel npm publish workflow and release docs.

### Details

<!-- BEGIN GENERATED DETAILS: range=3e57f558eff5b400292a6ad3c9df2721648aed6f..d02343f99e3260308b2355f26e382ae04b14d7e7 -->

#### Fixes

- Fix npm publish workflow yaml

#### Documentation

- docs: document changelog workflow in AGENTS
- docs: remove interactive questions from AGENTS

#### Branding & Packaging

- changelog: add Codexel changelog and generator
- Prepare Codexel npm 0.1.1 release

#### Other

- Update changelog for 0.1.1
- Skip macOS in npm publish workflow
<!-- END GENERATED DETAILS -->

## [0.1.0] - 2025-12-18

Upstream baseline: openai/codex@be274cbe6273cb17d756a6cda729d537f15ae49a
Release commit: 3e57f558eff5b400292a6ad3c9df2721648aed6f

### Highlights

- Add /plan mode with plan approval, subagent variants, and auto-execution.
- Introduce AskUserQuestion support and a review workflow in the TUI.
- Rebrand to Codexel across CLI headers and npm packaging.
- Refine plan-mode prompts, overlays, and progress UI.

### Details

<!-- BEGIN GENERATED DETAILS: range=be274cbe6273cb17d756a6cda729d537f15ae49a..3e57f558eff5b400292a6ad3c9df2721648aed6f -->

#### Features

- feat: add /plan mode with plan approval

#### Fixes

- fix(tui2): drop `disabled_reason` from `ask_user_question` rows

#### Documentation

- docs: document AskUserQuestion
- docs: add Windows notes for just
- docs: fix plan mode note apostrophe

#### TUI

- tui: show plan-variant progress
- tui: show plan subagent checklist
- tui: auto-execute approved plans
- tui: polish plan-variants progress
- tui: fix /plan cursor position
- tui: add review step for `ask_user_question`
- tui: taller plan approval overlay and wrapped summary
- tui: make Plan Mode placeholder generic

#### Core

- core: keep plan subagents aligned with session model
- core: make Plan Mode outputs junior-executable
- core: pin approved plan into developer instructions
- core: emit immediate plan progress on approval

#### Plan Mode

- plan: run variants in parallel with status
- plan: show subagent thinking/writing status
- plan: show per-variant token usage
- plan: prevent nested plan variants and shrink prompts
- plan: tighten prompts to avoid retry loops
- Improve /plan detail and plan variants
- Use ASCII ranges in plan prompts
- Tidy plan mode prompt bullets
- Improve plan approval UI and auto-execute after /plan
- Add configurable plan model setting
- plan: humanize exec activity + multiline goal

#### Branding & Packaging

- Rebrand Codex CLI as Codexel
- Use @ixe1/codexel npm scope
- Rebrand headers to Codexel

#### Chores

- chore: fix build after rebasing onto upstream/main
- chore(core): sync built-in prompts with upstream

#### Other

- Add `ask_user_question` tool
<!-- END GENERATED DETAILS -->
